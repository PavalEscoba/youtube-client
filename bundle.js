!function(e){var t={};function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(o,a,function(t){return e[t]}.bind(null,a));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="build/",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var o=function e(t,n,o,a,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.arrayOfScreens=t||[],this.inputValue=n||"",this.current=o||0,this.counter=a||0,this.nextPageToken=r||"",this.previousPageToken=i||""},a=function(e,t){var n=document.createElement(e);return n.classList.add(t),n},r=function(e){return e.map(function(e){return e.id.videoId}).join(",")},i=function(e,t,n,o){0===t.items.length&&(n.textContent="nothing found");var r=t.items,i=e.counter,s=document.createDocumentFragment(),c=!0;r.forEach(function(t,r){var l=a("article","video-item");if(l.innerHTML='<a class="video-item__preview-pic-link" href="https://www.youtube.com/watch?v='.concat(t.id,'"target="_blank"><img class="video-item__preview-pic" src="').concat(t.snippet.thumbnails.medium.url,'" alt=""></a> \n    <div class="video-item__info">\n      <div class="video-item__title">\n        <a href="https://www.youtube.com/watch?v=').concat(t.id,'" class="video-item__title-link">\n          <span class="video-item__title-value">').concat(t.snippet.localized.title,'</span></a>\n      </div>\n      <div class="video-item__author">\n        <span class="video-item__author-text">\n          Author:\n        </span>\n        <span class="video-item__author-value">\n          ').concat(t.snippet.channelTitle,'\n        </span>\n      </div>\n      <div class="video-item__pub-date">\n        <span class="video-item__pub-date-text">Publication date:</span>\n        <span class="video-item__pub-date-value">').concat(t.snippet.publishedAt.slice(0,10).split("-").reverse().join("."),'</span>\n      </div>\n      <div class="video-item__view-rate">\n        <span class="video-item__view-rate-text">Views:</span>\n        <span class="video-item__view-rate-value">').concat(t.statistics.viewCount,'</span>\n      </div>\n      <div class="video-item__description">\n        <span class="video-item__description-text">Description:</span>\n        <span class="video-item__description-value">').concat(t.snippet.localized.description,"\n        </span>\n      </div>\n    </div>"),s.appendChild(l),(r+1)%o==0){var d=a("div","slider__slide");c&&!n.hasChildNodes()&&(d.classList.add("slider__slide--active"),c=!1),d.dataset.screenNumber=i,d.appendChild(s),e.arrayOfScreens.push(i),n.appendChild(d),i+=1,e.counter=i}});var l=document.querySelector(".controls");if(!l){var d=a("ul","controls");e.arrayOfScreens.forEach(function(t,n){var o=a("li","controls__item"),r=a("div","controls__tooltip");r.textContent=n+1;var i=a("button","controls__dot");i.dataset.number=n,i.textContent=n+1,0===n&&i.classList.add("controls__dot--active"),n===e.arrayOfScreens.length-1&&(i.dataset.fetchMore=!0),o.append(r,i),d.append(o)}),n.parentElement.appendChild(d)}if(l)for(var u=l.childElementCount+1;u<=e.arrayOfScreens.length;u+=1){var p=a("li","controls__item"),v=a("div","controls__tooltip");v.textContent=u;var m=a("button","controls__dot");m.dataset.number=u-1,m.textContent=u,u===e.arrayOfScreens.length&&(m.dataset.fetchMore=!0),p.append(v,m),l.append(p)}},s="https://www.googleapis.com/youtube/v3/search?",c="AIzaSyClwIUXSO2g8Gj5Yr6r8o-sCOIf-R4LNHk",l=function(e){if(e.ok)return e;var t=new Error(e.statusText);return t.response=e,Promise.reject(t)},d=function(e,t,n){var o=+n.dataset.number,a=t.querySelector('[data-number="'.concat(o-1,'"]')),r=t.querySelector('[data-number="'.concat(o+1,'"]'));if("right"===e&&a){n.classList.remove("controls__dot--active"),a.classList.add("controls__dot--active");var i=a.dataset.number,s=document.querySelector(".slider__slide--active"),c=document.querySelector('[data-screen-number="'.concat(i,'"]'));s.classList.remove("slider__slide--active"),c.classList.add("slider__slide--active")}if("left"===e){n.classList.remove("controls__dot--active"),r.classList.add("controls__dot--active");var l=r.dataset.number,d=document.querySelector(".slider__slide--active"),u=document.querySelector('[data-screen-number="'.concat(l,'"]'));d.classList.remove("slider__slide--active"),u.classList.add("slider__slide--active")}},u=function(e){var t=e.target;document.querySelector(".controls")&&("controls__dot"!==t.className&&"controls__dot controls__dot--active"!==t.className||t.previousElementSibling.classList.toggle("controls__tooltip--active"))};n(1);!function(){var e=document.body,t=a("div","container"),n=a("header","header"),o=a("h1","header__heading");o.textContent="App for Youtube search and statisctics",n.appendChild(o);var r=a("main","main-content"),i=a("h2","main-content__heading"),s=a("section","slider"),c=a("div","slider__inner");s.appendChild(c),r.appendChild(i),r.insertAdjacentHTML("beforeEnd",'<form class="search-form" action=""> <label class="search-form__label-input" for="youtube-search">Type your request <input class="search-form__input" type="search" name="search-field" id="js-youtube-search-field"></label> <button class="search-form__btn" id="js-search-btn"> Search </button></form>'),r.appendChild(s);var l=a("footer","footer"),d=a("h2","footer__heading");d.textContent="Made by Paval Miatlitski",l.appendChild(d),t.append(n,r),e.append(t,l)}();var p=new o,v=document.body,m=document.getElementById("js-search-btn"),_=document.getElementById("js-youtube-search-field"),f=document.querySelector(".slider__inner");m.addEventListener("click",function(e){(e.preventDefault(),p=new o,f.firstElementChild)&&(f.innerHTML="",document.querySelector(".controls").remove());var t=_.value;_.value="";var n="".concat(s,"key=").concat(c,"&type=video&part=snippet&maxResults=15&q=").concat(t);fetch(n).then(l).then(function(e){return e.json()}).then(function(e){p.nextPageToken=e.nextPageToken;var t=r(e.items),n="https://www.googleapis.com/youtube/v3/videos?key=".concat(c,"&id=").concat(t,"&part=snippet,statistics");return fetch(n)}).then(function(e){return e.json()}).then(function(e){i(p,e,f,3)}).catch(function(e){return console.log("there was an error: ".concat(e))})}),v.addEventListener("mousedown",u),v.addEventListener("mouseup",u),v.addEventListener("click",function(e){if("click"===e.type){var t=e.target,n=document.querySelector(".controls");if(n){if("controls__dot"===t.className){n.querySelector(".controls__dot--active").classList.remove("controls__dot--active"),t.classList.add("controls__dot--active");var o=t.textContent,a=document.querySelector(".slider__slide--active"),d=document.querySelector('[data-screen-number="'.concat(o-1,'"]'));a.classList.remove("slider__slide--active"),d.classList.add("slider__slide--active")}if(t.dataset.fetchMore){delete t.dataset.fetchMore;var u="".concat(s,"key=").concat(c,"&pageToken=").concat(p.nextPageToken,"&type=video&part=snippet&maxResults=15&q=").concat(p.inputValue);fetch(u).then(l).then(function(e){return e.json()}).then(function(e){p.nextPageToken=e.nextPageToken;var t=r(e.items),n="https://www.googleapis.com/youtube/v3/videos?key=".concat(c,"&id=").concat(t,"&part=snippet,statistics");return fetch(n)}).then(function(e){return e.json()}).then(function(e){i(p,e,f,3)}).catch(function(e){return console.log("there was an error: ".concat(e))})}}}}),document.ondragstart=function(){return!1},document.addEventListener("mousedown",function(e){var t=e.target;if("slider__slide slider__slide--active"===t.className){var n=document.querySelector(".controls"),o=n.querySelector(".controls__dot--active"),a=e.pageX,r=null;document.onmousemove=function(e){r=a-e.pageX,t.style.transform="translateX(".concat(-r,"px)")},document.onmouseup=function(){Math.abs(r)>100?(r<0&&("0"===o.dataset.number?t.style.transform="initial":(t.style.transition="all 1s",t.style.opacity="0",t.style.transform="translateX(200%)",d("right",n,o),setTimeout(function(){t.removeAttribute("style")},500))),r>0&&(t.style.transition="all 1s",t.style.opacity="0",t.style.transform="translateX(-200%)",d("left",n,o),setTimeout(function(){t.removeAttribute("style")},500))):t.style.transform="initial",document.onmousemove=null,t.onmouseup=null}}})},function(e,t){}]);